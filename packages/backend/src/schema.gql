# -----------------------------------------------
# !!! THIS FILE WAS GENERATED BY TYPE-GRAPHQL !!!
# !!!   DO NOT MODIFY THIS FILE BY YOURSELF   !!!
# -----------------------------------------------

type Application {
  id: Int!
  name: String!
  description: String!
  createdBy: User
  createdAt: String!
  updatedAt: String!
  organization: Organization!
  containers: [Container!]!
  deployments: [Deployment!]!
  secrets: [Secret!]!
}

type ApplicationMutations {
  update(secret: SecretInput, description: String, name: String): Application!
  createDeployment(image: String!): Deployment!
  updateDeployment(image: String!, id: Int!): Deployment!
  deleteDeployment(id: Int!): Deployment!
  createContainer(number: Int!, size: Int!, deployment: Int!): Container!
  updateContainer(number: Int!, id: Int!): Container!
  deleteContainer(id: Int!): Container!
}

type Container {
  id: Int!
  size: Int!
  number: Int!
  createdAt: String!
  updatedAt: String!
  deployment: Deployment!
}

type Deployment {
  id: Int!
  image: String!
  createdAt: String!
  updatedAt: String!
  containers: [Container!]!
}

type Mutation {
  signUp(password: String!, email: String!, name: String!, organizationName: String!): Result!
  signIn(password: String!, email: String!): SignInResult!
  updateAccount(email: String, name: String): User!
  forgotPassword(email: String!): Result!
  resetPassword(password: String!, uuid: String!): Result!
  exchangeTOTP(token: String!): Result!
  enableTotp(token: String!, secret: String!): Result!
  disableTotp(password: String!): Result!
  createApplication(name: String!): Application!
  application(id: Int!): ApplicationMutations!
}

type Organization {
  id: Int!
  name: String!
  createdAt: String!
  updatedAt: String!
}

type Query {
  me: User!
  applications: [Application!]!
  application(id: Int!): Application!
}

"""Provides a boolean to determine if the action was successful or not."""
type Result {
  ok: Boolean!
}

type Secret {
  key: String!
  value: String!
}

input SecretInput {
  key: String!
  value: String!
}

"""
A special type of result used just for SignIns. Provides a boolean for if the
user requires a TOTP exchange before being fully logged in.
"""
type SignInResult {
  ok: Boolean!
  requiresTOTP: Boolean!
}

type User {
  id: Int!
  name: String!
  email: String!
  createdAt: String!
  updatedAt: String!
  hasTOTP: Boolean!
  organization: Organization!
  onboardTOTP: String!
}
